{"remainingRequest":"/Users/mac/Sites/maeketcentamobile/node_modules/babel-loader/lib/index.js!/Users/mac/Sites/maeketcentamobile/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/Sites/maeketcentamobile/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/mac/Sites/maeketcentamobile/src/components/FundWallet.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mac/Sites/maeketcentamobile/src/components/FundWallet.vue","mtime":1643183838892},{"path":"/Users/mac/Sites/maeketcentamobile/babel.config.js","mtime":1638646982756},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgSW9uSW5wdXQsIElvbkl0ZW0sIElvbkhlYWRlciwgSW9uVG9vbGJhciwgSW9uVGl0bGUsIElvbkxhYmVsLCBJb25CdXR0b24sIElvbkJ1dHRvbnMsIElvbkNvbnRlbnQsIElvbkljb24gfSBmcm9tICdAaW9uaWMvdnVlJzsKaW1wb3J0IHsgY2xvc2VPdXRsaW5lIH0gZnJvbSAnaW9uaWNvbnMvaWNvbnMnOwppbXBvcnQgeyBtb2RhbENvbnRyb2xsZXIgfSBmcm9tICJAaW9uaWMvdnVlIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIHByb3BzOiB7CiAgICB0aXRsZTogU3RyaW5nLAogICAgdXNlckRhdGE6IE9iamVjdCwKICAgIGF1dGhUb2tlbjogU3RyaW5nCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBJb25JbnB1dCwKICAgIElvbkl0ZW0sCiAgICBJb25IZWFkZXIsCiAgICBJb25Ub29sYmFyLAogICAgSW9uVGl0bGUsCiAgICBJb25MYWJlbCwKICAgIElvbkJ1dHRvbiwKICAgIElvbkJ1dHRvbnMsCiAgICBJb25Db250ZW50LAogICAgSW9uSWNvbgogIH0sCiAgY29tcHV0ZWQ6IG1hcEdldHRlcnMoWyJhdXRoX3Rva2VuIiwgImF1dGhfdXNlciJdKSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNsb3NlT3V0bGluZSwKICAgICAgYW1vdW50OiAiIgogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBdXRoRGF0YSgpOwogIH0sCgogIG1ldGhvZHM6IHsgLi4ubWFwQWN0aW9ucyhbImdldEF1dGhEYXRhIl0pLAoKICAgIGZ1bmRXYWxsZXQoKSB7CiAgICAgIGxldCByZWYgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNik7CiAgICAgIGNvbnN0IHVzZXJJZCA9IHRoaXMuYXV0aF91c2VyLmlkOwogICAgICBjb25zdCByb3V0ZSA9IHRoaXMuZHluYW1pY19hdXRoX3JvdXRlKCJ3YWxsZXRzL3BheW1lbnQvdmVyaWZ5Iik7CiAgICAgIGNvbnN0IGhlYWRlciA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hdXRoX3Rva2VufWAKICAgICAgICB9CiAgICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgoKICAgICAgRmx1dHRlcndhdmVDaGVja291dCh7CiAgICAgICAgcHVibGljX2tleTogIkZMV1BVQkstMDQ5YTUzNzc0YTFkZDljYTI5ZGQyNmE2ZDNjMjNmYTQtWCIsCiAgICAgICAgdHhfcmVmOiByZWYsCiAgICAgICAgYW1vdW50OiB0aGlzLmFtb3VudCwKICAgICAgICBjdXJyZW5jeTogIk5HTiIsCiAgICAgICAgY291bnRyeTogIk5HIiwKICAgICAgICBwYXltZW50X29wdGlvbnM6ICIgIiwKICAgICAgICBjdXN0b21lcjogewogICAgICAgICAgZW1haWw6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuZW1haWwsCiAgICAgICAgICBwaG9uZV9udW1iZXI6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIucGhvbmUsCiAgICAgICAgICBuYW1lOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLm5hbWUKICAgICAgICB9LAogICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgLy8gc3BlY2lmaWVkIGNhbGxiYWNrIGZ1bmN0aW9uCiAgICAgICAgICBsZXQgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgZm9ybS5hcHBlbmQoInRyYW5zUmVmIiwgZGF0YS50cmFuc2FjdGlvbl9pZCk7CiAgICAgICAgICBmb3JtLmFwcGVuZCgidXNlcklkIiwgdXNlcklkKTsKICAgICAgICAgIGF4aW9zLnBvc3Qocm91dGUsIGZvcm0sIGhlYWRlcikudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwogICAgICAgIH0sCiAgICAgICAgY3VzdG9taXphdGlvbnM6IHsKICAgICAgICAgIHRpdGxlOiAiTWFya2V0Y2VudGEiLAogICAgICAgICAgZGVzY3JpcHRpb246ICJQYXltZW50IGZvciBlLXdhbGxldCBmdW5kaW5nIiwKICAgICAgICAgIGxvZ286ICJodHRwczovL3Jlcy5jbG91ZGluYXJ5LmNvbS9hZGV0YXlvYXBwbGljYXRpb24vaW1hZ2UvdXBsb2FkL3YxNjM2Mzg3NDk2L21hcmtldGxvZ29zbV9lN29idzcucG5nIgogICAgICAgIH0KICAgICAgfSk7IC8vCiAgICB9LAoKICAgIGFzeW5jIGRpc21pc3NNb2RhbCgpIHsKICAgICAgYXdhaXQgbW9kYWxDb250cm9sbGVyLmRpc21pc3MoKTsKICAgIH0KCiAgfQp9KTs="},{"version":3,"sources":["/Users/mac/Sites/maeketcentamobile/src/components/FundWallet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <ion-content>\r\n        <ion-header>\r\n            <ion-toolbar>\r\n                <ion-title>{{ title }}</ion-title>\r\n                <ion-buttons slot=\"end\">\r\n                    <ion-button color=\"dark\" @click=\"dismissModal\">\r\n                        <ion-icon slot=\"icon-only\" :icon=\"closeOutline\"></ion-icon>\r\n                    </ion-button>\r\n                </ion-buttons>\r\n            </ion-toolbar>\r\n        </ion-header>\r\n        <form @submit.prevent=\"fundWallet\" class=\" mt-4\">\r\n            <div>\r\n                <ion-item>\r\n                    <ion-label position=\"floating\">Amount</ion-label>\r\n                    <ion-input type=\"text\" v-model=\"amount\" required></ion-input>\r\n                </ion-item>\r\n            </div>\r\n            <div class=\"order-btn\">\r\n                <ion-button\r\n                    class=\"mb-3\"\r\n                    color=\"primary\"\r\n                    expand=\"block\"\r\n                    type=\"submit\"\r\n                >\r\n                    PAY NOW\r\n                </ion-button>\r\n                <ion-button type=\"button\" style=\"margin-top: 15px\" color=\"light\" @click=\"dismissModal\" expand=\"block\">\r\n                    CLOSE\r\n                </ion-button>\r\n            </div>\r\n        </form>\r\n    </ion-content>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport  { IonInput, IonItem, IonHeader, IonToolbar, IonTitle, \r\nIonLabel, IonButton, IonButtons, IonContent, IonIcon } from '@ionic/vue'\r\nimport { closeOutline } from 'ionicons/icons';\r\nimport { modalController } from \"@ionic/vue\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport axios from \"axios\";\r\n\r\nexport default defineComponent({\r\n    props: {\r\n        title: String,\r\n        userData: Object,\r\n        authToken: String,\r\n    },\r\n    components: {\r\n        IonInput,\r\n        IonItem,\r\n        IonHeader,\r\n        IonToolbar,\r\n        IonTitle,\r\n        IonLabel,\r\n        IonButton,\r\n        IonButtons,\r\n        IonContent, \r\n        IonIcon\r\n    },\r\n    computed: mapGetters([\"auth_token\", \"auth_user\"]),\r\n    data() {\r\n        return {\r\n            closeOutline,\r\n            amount: \"\",\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getAuthData();\r\n    },\r\n    methods: {\r\n        ...mapActions([\"getAuthData\"]),\r\n        fundWallet() {\r\n            let ref = Math.random().toString(36).substr(2, 6);\r\n            const userId = this.auth_user.id;\r\n            const route = this.dynamic_auth_route(\"wallets/payment/verify\");\r\n            const header = {\r\n                headers: {\r\n                authorization: `Bearer ${this.auth_token}`,\r\n                },\r\n            };\r\n            // eslint-disable-next-line no-undef\r\n            FlutterwaveCheckout({\r\n                public_key: \"FLWPUBK-049a53774a1dd9ca29dd26a6d3c23fa4-X\",\r\n                tx_ref: ref,\r\n                amount: this.amount,\r\n                currency: \"NGN\",\r\n                country: \"NG\",\r\n                payment_options: \" \",\r\n                customer: {\r\n                    email: this.$store.state.user.email,\r\n                    phone_number: this.$store.state.user.phone,\r\n                    name: this.$store.state.user.name,\r\n                },\r\n                callback: function (data) {\r\n                    // specified callback function\r\n                    let form = new FormData();\r\n                    form.append(\"transRef\", data.transaction_id);\r\n                    form.append(\"userId\", userId);\r\n                    axios\r\n                        .post(route, form, header)\r\n                        .then(() => {\r\n                            location.reload();\r\n                        })\r\n                        .catch(() => {\r\n                    \r\n                        });\r\n                },\r\n                customizations: {\r\n                    title: \"Marketcenta\",\r\n                    description: \"Payment for e-wallet funding\",\r\n                    logo: \"https://res.cloudinary.com/adetayoapplication/image/upload/v1636387496/marketlogosm_e7obw7.png\",\r\n                },\r\n            });\r\n            //\r\n        },\r\n        async dismissModal() {\r\n            await modalController.dismiss();\r\n        }\r\n        \r\n    }\r\n})\r\n</script>\r\n<style scoped>\r\n.order-btn {\r\n    padding: 30px 10px 10px;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}