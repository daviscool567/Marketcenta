{"remainingRequest":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\xampp\\htdocs\\maeketcentamobile\\src\\views\\Wallet.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\src\\views\\Wallet.vue","mtime":1639519476813},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\babel.config.js","mtime":1638646982756},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgSW9uUGFnZSwgSW9uQ2FyZCwgSW9uQ2FyZENvbnRlbnQsIElvbkJ1dHRvbiwgbW9kYWxDb250cm9sbGVyIH0gZnJvbSAnQGlvbmljL3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IEJhc2VMYXlvdXQgZnJvbSAnQC9jb21wb25lbnRzL0Jhc2VMYXlvdXQnOwppbXBvcnQgRnVuZFdhbGxldCBmcm9tICdAL2NvbXBvbmVudHMvRnVuZFdhbGxldCc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgSW9uUGFnZSwKICAgIElvbkNhcmQsCiAgICBJb25DYXJkQ29udGVudCwKICAgIElvbkJ1dHRvbiwKICAgIEJhc2VMYXlvdXQKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgd2FsbGV0OiB7fSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHdhbGxldFRyYW5zYWN0aW9uczoge30KICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IG1hcEdldHRlcnMoWyJhdXRoX3Rva2VuIl0pLAoKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBdXRoRGF0YSgpOwogICAgdGhpcy5mZXRjaFdhbGxldCgpOwogICAgdGhpcy5mZXRjaFdhbGxldFRyYW5zYWN0aW9ucygpOwogIH0sCgogIG1ldGhvZHM6IHsgLi4ubWFwQWN0aW9ucyhbImdldEF1dGhEYXRhIiwgImNoZWNrRXhwaXJlZFRva2VuIl0pLAoKICAgIGZldGNoV2FsbGV0KCkgewogICAgICBjb25zdCB1c2VySWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBheGlvcy5nZXQodGhpcy5keW5hbWljX2F1dGhfcm91dGUoIndhbGxldHMvZmV0Y2gvIiArIHVzZXJJZCksIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hdXRoX3Rva2VufWAKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLndhbGxldCA9IHJlcy5kYXRhOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhpcy50b2tlbkV4cGlyZWQoZXJyb3IpOwogICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIGZldGNoV2FsbGV0VHJhbnNhY3Rpb25zKCkgewogICAgICBjb25zdCB1c2VySWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlkOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBheGlvcy5nZXQodGhpcy5keW5hbWljX2F1dGhfcm91dGUoIndhbGxldHMvZmV0Y2gvdHJhbnNhY3Rpb25zLyIgKyB1c2VySWQpLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXV0aF90b2tlbn1gCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy53YWxsZXRUcmFuc2FjdGlvbnMgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMudG9rZW5FeHBpcmVkKGVycm9yKTsgLy8gdG9hc3RyLmVycm9yKCJOZXR3b3JrIGVycm9yLiBQbGVhc2UsIHRyeSBhZ2Fpbi4iKTsKICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKCiAgICBhc3luYyBmdW5kV2FsbGV0KCkgewogICAgICBjb25zdCBtb2RhbCA9IGF3YWl0IG1vZGFsQ29udHJvbGxlci5jcmVhdGUoewogICAgICAgIGNvbXBvbmVudDogRnVuZFdhbGxldCwKICAgICAgICBjc3NDbGFzczogJ215LWN1c3RvbS1jbGFzcycsCiAgICAgICAgY29tcG9uZW50UHJvcHM6IHsKICAgICAgICAgIHRpdGxlOiAnRnVuZCBXYWxsZXQnCiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIG1vZGFsLnByZXNlbnQoKTsKICAgIH0KCiAgfQp9KTs="},{"version":3,"sources":["C:\\xampp\\htdocs\\maeketcentamobile\\src\\views\\Wallet.vue"],"names":[],"mappings":"AAyFA,SAAS,eAAT,QAAgC,KAAhC;AACA,SAAS,OAAT,EAAkB,OAAlB,EAA2B,cAA3B,EAA2C,SAA3C,EAAsD,eAAtD,QAA6E,YAA7E;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,OAAO,UAAP,MAAuB,yBAAvB;AACA,OAAO,UAAP,MAAuB,yBAAvB;AAEA,eAAe,eAAe,CAAC;AAC3B,EAAA,UAAU,EAAE;AACR,IAAA,OADQ;AAER,IAAA,OAFQ;AAGR,IAAA,cAHQ;AAIR,IAAA,SAJQ;AAKR,IAAA;AALQ,GADe;;AAQ3B,EAAA,IAAI,GAAG;AACH,WAAO;AACH,MAAA,MAAM,EAAE,EADL;AAEH,MAAA,OAAO,EAAE,KAFN;AAGH,MAAA,kBAAkB,EAAE;AAHjB,KAAP;AAKH,GAd0B;;AAe3B,EAAA,QAAQ,EAAE,UAAU,CAAC,CAAC,YAAD,CAAD,CAfO;;AAgB3B,EAAA,OAAO,GAAG;AACN,SAAK,WAAL;AACA,SAAK,WAAL;AACA,SAAK,uBAAL;AACH,GApB0B;;AAqB3B,EAAA,OAAO,EAAE,EACL,GAAG,UAAU,CAAC,CAAC,aAAD,EAAgB,mBAAhB,CAAD,CADR;;AAEL,IAAA,WAAW,GAAG;AACV,YAAM,MAAK,GAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,EAAtC;AACA,WAAK,OAAL,GAAe,IAAf;AACA,MAAA,KAAI,CACC,GADL,CACS,KAAK,kBAAL,CAAwB,mBAAmB,MAA3C,CADT,EAC6D;AACrD,QAAA,OAAO,EAAE;AACL,UAAA,aAAa,EAAG,UAAS,KAAK,UAAW;AADpC;AAD4C,OAD7D,EAMK,IANL,CAMW,GAAD,IAAS;AACX,aAAK,MAAL,GAAc,GAAG,CAAC,IAAlB;AACH,OARL,EASK,KATL,CASY,KAAD,IAAW;AACd,aAAK,YAAL,CAAkB,KAAlB;AACH,OAXL,EAYK,OAZL,CAYa,MAAM;AACX,aAAK,OAAL,GAAe,KAAf;AACH,OAdL;AAeH,KApBI;;AAqBL,IAAA,uBAAuB,GAAG;AACtB,YAAM,MAAK,GAAI,KAAK,MAAL,CAAY,KAAZ,CAAkB,IAAlB,CAAuB,EAAtC;AACA,WAAK,OAAL,GAAe,IAAf;AACA,MAAA,KAAI,CACC,GADL,CACS,KAAK,kBAAL,CAAwB,gCAAgC,MAAxD,CADT,EAC0E;AAClE,QAAA,OAAO,EAAE;AACL,UAAA,aAAa,EAAG,UAAS,KAAK,UAAW;AADpC;AADyD,OAD1E,EAMK,IANL,CAMW,GAAD,IAAS;AACX,aAAK,kBAAL,GAA0B,GAAG,CAAC,IAA9B;AACH,OARL,EASK,KATL,CASY,KAAD,IAAW;AACd,aAAK,YAAL,CAAkB,KAAlB,EADc,CAEd;AACH,OAZL,EAaK,OAbL,CAaa,MAAM;AACX,aAAK,OAAL,GAAe,KAAf;AACH,OAfL;AAgBH,KAxCI;;AAyCL,UAAM,UAAN,GAAmB;AACf,YAAM,KAAI,GAAI,MAAM,eAAe,CAAC,MAAhB,CAAuB;AACvC,QAAA,SAAS,EAAE,UAD4B;AAEvC,QAAA,QAAQ,EAAE,iBAF6B;AAGvC,QAAA,cAAc,EAAE;AACZ,UAAA,KAAK,EAAE;AADK;AAHuB,OAAvB,CAApB;AAOA,aAAO,KAAK,CAAC,OAAN,EAAP;AACH;;AAlDI;AArBkB,CAAD,CAA9B","sourcesContent":["<template>\r\n    <ion-page>\r\n        <BaseLayout>\r\n            <ion-card class=\"wallet-card\">\r\n                <ion-card-content>\r\n                    <h5 class=\"header-title\">WALLET</h5>\r\n                    <div\r\n                        class=\"card bg-gradient-danger p-4\"\r\n                        style=\"border-radius: 20px !important\"\r\n                    >\r\n                        <div class=\"d-flex wallet-body\">\r\n                            <span>\r\n                                <p>Wallet Balance</p>\r\n                                <h4 v-if=\"wallet.total\">\r\n                                    &#8358;{{ Number(wallet.total).toLocaleString() }}\r\n                                </h4>\r\n                                <h4 v-else>&#8358;0</h4>\r\n                            </span>\r\n                            <center class=\"wallet-border\"></center>\r\n                            <span class=\"ml-auto\">\r\n                                <p>Subscription Balance</p>\r\n                                <h4 v-if=\"wallet.available\">\r\n                                    &#8358;{{ Number(wallet.available).toLocaleString() }}\r\n                                </h4>\r\n                                <h4 v-else>&#8358;0</h4>\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"text-center mt-4\">\r\n                            <ion-button\r\n                                shape=\"round\"\r\n                                expand=\"block\"\r\n                                color=\"light\"\r\n                                @click=\"fundWallet\"\r\n                                style=\"\r\n                                color: #222222 !important;\r\n                                font-size: 13px;\r\n                                font-weight: 650;\r\n                                \"\r\n                                >FUND WALLET\r\n                            </ion-button>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <h5 class=\"trans\">Transactions</h5>\r\n                    </div>\r\n                    <div class=\"transaction-item mb-3\" v-for=\"(trans, index) in walletTransactions\" :key=\"index\">\r\n                        <div class=\"media\">\r\n                            <div class=\"media-aside align-self-start\">\r\n                                <span class=\"b-avatar badge-light-success rounded\" \r\n                                    style=\"width: 42px; height: 42px;\" v-if=\"trans.transaction_type == 'deposit'\">\r\n                                    <span class=\"b-avatar-custom\">\r\n                                        <i class=\"mdi mdi-arrow-down\"></i>\r\n                                    </span>\r\n                                </span>\r\n                                <span class=\"b-avatar badge-light-danger rounded\" \r\n                                    style=\"width: 42px; height: 42px;\" v-else>\r\n                                    <span class=\"b-avatar-custom\">\r\n                                        <i class=\"mdi mdi-arrow-up\"></i>\r\n                                    </span>\r\n                                </span>\r\n                            </div>\r\n                            <div class=\"media-body\">\r\n                                <h6 class=\"transaction-title mb-0\">\r\n                                {{ trans.transaction_type == \"deposit\" ? \"Credit\" : \"Debit\" }}\r\n                                </h6>\r\n                                <small>\r\n                                    {{ moment(trans.created_at).format(\"D MMM, YYYY, h:mm a\") }}\r\n                                </small>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"font-weight-bolder\" :class=\" trans.transaction_type == 'deposit'\r\n                            ? 'text-success'\r\n                            : 'text-danger'\r\n                        \">\r\n                            {{ trans.transaction_type == \"deposit\" ? \"+\" : \"-\" }}&#8358;{{\r\n                                Number(trans.amount).toLocaleString()\r\n                            }}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"alert-info text-center p-4 rounded-lg\" v-if=\"!walletTransactions.length\">\r\n                        <p>No Transactions History</p>\r\n                    </div>\r\n                </ion-card-content>\r\n            </ion-card>\r\n        </BaseLayout>\r\n    </ion-page>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport { IonPage, IonCard, IonCardContent, IonButton, modalController } from '@ionic/vue'\r\nimport axios from 'axios'\r\nimport { mapActions, mapGetters } from 'vuex'\r\nimport BaseLayout from '@/components/BaseLayout'\r\nimport FundWallet from '@/components/FundWallet'\r\n\r\nexport default defineComponent({\r\n    components: {\r\n        IonPage,\r\n        IonCard,\r\n        IonCardContent,\r\n        IonButton,\r\n        BaseLayout\r\n    },\r\n    data() {\r\n        return {\r\n            wallet: {},\r\n            loading: false,\r\n            walletTransactions: {},\r\n        };\r\n    },\r\n    computed: mapGetters([\"auth_token\"]),\r\n    mounted() {\r\n        this.getAuthData();\r\n        this.fetchWallet();\r\n        this.fetchWalletTransactions();\r\n    },\r\n    methods: {\r\n        ...mapActions([\"getAuthData\", \"checkExpiredToken\"]),\r\n        fetchWallet() {\r\n            const userId = this.$store.state.user.id;\r\n            this.loading = true;\r\n            axios\r\n                .get(this.dynamic_auth_route(\"wallets/fetch/\" + userId), {\r\n                    headers: {\r\n                        authorization: `Bearer ${this.auth_token}`,\r\n                    },\r\n                })\r\n                .then((res) => {\r\n                    this.wallet = res.data;\r\n                })\r\n                .catch((error) => {\r\n                    this.tokenExpired(error)\r\n                })\r\n                .finally(() => {\r\n                    this.loading = false;\r\n                });\r\n        },\r\n        fetchWalletTransactions() {\r\n            const userId = this.$store.state.user.id;\r\n            this.loading = true;\r\n            axios\r\n                .get(this.dynamic_auth_route(\"wallets/fetch/transactions/\" + userId), {\r\n                    headers: {\r\n                        authorization: `Bearer ${this.auth_token}`,\r\n                    },\r\n                })\r\n                .then((res) => {\r\n                    this.walletTransactions = res.data;\r\n                })\r\n                .catch((error) => {\r\n                    this.tokenExpired(error);\r\n                    // toastr.error(\"Network error. Please, try again.\");\r\n                })\r\n                .finally(() => {\r\n                    this.loading = false;\r\n                });\r\n        },\r\n        async fundWallet() {\r\n            const modal = await modalController.create({\r\n                component: FundWallet,\r\n                cssClass: 'my-custom-class',\r\n                componentProps: {\r\n                    title: 'Fund Wallet',\r\n                },\r\n            });\r\n            return modal.present();\r\n        },\r\n    },\r\n})\r\n</script>\r\n<style scoped>\r\n.transaction-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.wallet-card {\r\n    margin-top: 35px;\r\n}\r\n.bg-gradient-danger,\r\n[dir=\"ltr\"] .btn-gradient-danger {\r\n  background-image: linear-gradient(47deg, #f26b31, #4c1c80);\r\n  color: #ffffff;\r\n}\r\n.wallet-body p {\r\n  margin-bottom: 2px !important;\r\n  font-size: 13px;\r\n  opacity: 0.9;\r\n}\r\n.wallet-body .wallet-border {\r\n  border-right: 2px solid #ffffff;\r\n  margin-left: 30px;\r\n}\r\n.header-title {\r\n  font-weight: 700;\r\n  font-size: 18px;\r\n  margin-bottom: 20px;\r\n  margin-left: 10px;\r\n  color: #444444;\r\n}\r\n.wallet-body h4 {\r\n    font-size: 1.5rem !important;\r\n}\r\n.trans {\r\n    font-size: 1.25rem;\r\n    font-weight: 500;\r\n    line-height: 1.2;\r\n    color: #111111 !important;\r\n    margin-top: 25px;\r\n    margin-bottom: 20px;\r\n}\r\n.font-weight-bolder {\r\n    font-weight: bolder !important;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}