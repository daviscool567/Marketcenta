{"remainingRequest":"/Users/mac/Sites/maeketcentamobile/node_modules/babel-loader/lib/index.js!/Users/mac/Sites/maeketcentamobile/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/Sites/maeketcentamobile/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/mac/Sites/maeketcentamobile/src/components/AddressComponents/ManageAddress.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mac/Sites/maeketcentamobile/src/components/AddressComponents/ManageAddress.vue","mtime":1642925175043},{"path":"/Users/mac/Sites/maeketcentamobile/babel.config.js","mtime":1638646982756},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgSW9uSXRlbSwgSW9uSGVhZGVyLCBJb25Ub29sYmFyLCBJb25UaXRsZSwgSW9uTGlzdCwgSW9uTGFiZWwsIElvbkJ1dHRvbiwgSW9uQnV0dG9ucywgSW9uUmFkaW8sIElvblJhZGlvR3JvdXAsIElvbkNvbnRlbnQsIElvbkljb24gfSBmcm9tICdAaW9uaWMvdnVlJzsKaW1wb3J0IHsgY2xvc2VPdXRsaW5lIH0gZnJvbSAnaW9uaWNvbnMvaWNvbnMnOwppbXBvcnQgeyBtb2RhbENvbnRyb2xsZXIgfSBmcm9tICJAaW9uaWMvdnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgQ3JlYXRlQWRkcmVzcyBmcm9tICdAL2NvbXBvbmVudHMvQWRkcmVzc0NvbXBvbmVudHMvQ3JlYXRlQWRkcmVzcyc7CmltcG9ydCBFZGl0QWRkcmVzcyBmcm9tICdAL2NvbXBvbmVudHMvQWRkcmVzc0NvbXBvbmVudHMvRWRpdEFkZHJlc3MnOwppbXBvcnQgU2tlbGV0b25UZXh0IGZyb20gJ0AvY29tcG9uZW50cy9Ta2VsZXRvblRleHQnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIElvbkl0ZW0sCiAgICBJb25IZWFkZXIsCiAgICBJb25Ub29sYmFyLAogICAgSW9uVGl0bGUsCiAgICBJb25MYWJlbCwKICAgIElvbkJ1dHRvbiwKICAgIElvbkJ1dHRvbnMsCiAgICBJb25SYWRpb0dyb3VwLAogICAgSW9uUmFkaW8sCiAgICBJb25MaXN0LAogICAgSW9uQ29udGVudCwKICAgIElvbkljb24sCiAgICBTa2VsZXRvblRleHQKICB9LAogIHByb3BzOiB7CiAgICB0aXRsZTogU3RyaW5nLAogICAgZGVmYXVsdEFkZDogT2JqZWN0CiAgfSwKICBjb21wdXRlZDogbWFwR2V0dGVycyhbImF1dGhfdG9rZW4iLCAiYWRkcmVzc2VzIl0pLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHVzZUxvYWRpbmc6IGZhbHNlLAogICAgICBzZWxlY3RlZEFkZHJlc3M6IHRoaXMuZGVmYXVsdEFkZCwKICAgICAgY3VycmVudEFkZHJlc3M6IHt9LAogICAgICBjbG9zZU91dGxpbmUKICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QXV0aERhdGEoKTsKICAgIHRoaXMuZmV0Y2hBZGQoKTsKICB9LAoKICBtZXRob2RzOiB7IC4uLm1hcEFjdGlvbnMoWyJnZXRBdXRoRGF0YSIsICJmZXRjaERlZmF1bHRBZGRyZXNzIiwgImZldGNoVXNlckFkZHJlc3MiXSksCgogICAgYXN5bmMgZmV0Y2hBZGQoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGF3YWl0IHRoaXMuZmV0Y2hVc2VyQWRkcmVzcygpOwogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCgogICAgdXNlQWRkcmVzcygpIHsKICAgICAgdGhpcy5wcmVzZW50TG9hZGluZygnU2V0dGluZyBkZWZhdWx0IGFkZHJlc3MnKTsKICAgICAgYXhpb3MucG9zdCh0aGlzLmR5bmFtaWNfYXV0aF9yb3V0ZSgidXNlci9hZGRyZXNzL2RlZmF1bHQiKSwgdGhpcy5zZWxlY3RlZEFkZHJlc3MsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hdXRoX3Rva2VufWAKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuc3RhdHVzID09ICJzdWNjZXNzIikgewogICAgICAgICAgdGhpcy5mZXRjaERlZmF1bHRBZGRyZXNzKCk7CiAgICAgICAgICB0aGlzLm9wZW5Ub2FzdChyZXMuZGF0YS5tZXNzYWdlLCAnc3VjY2VzcycpOwogICAgICAgICAgdGhpcy5kaXNtaXNzTW9kYWwoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICB0aGlzLm9wZW5Ub2FzdCgiQW4gZXJyb3Igb2NjdXJlZC4gUGxlYXNlLCB0cnkgYWdhaW4uIiwgJ2RhbmdlcicpOwogICAgICAgIHRoaXMudG9rZW5FeHBpcmVkKGVycm9yKTsKICAgICAgfSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgdGhpcy5kaXNtaXNzTG9hZGluZygpOwogICAgICB9KTsKICAgIH0sCgogICAgYXN5bmMgY3JlYXRlQWRkcmVzcygpIHsKICAgICAgY29uc3QgbW9kYWwgPSBhd2FpdCBtb2RhbENvbnRyb2xsZXIuY3JlYXRlKHsKICAgICAgICBjb21wb25lbnQ6IENyZWF0ZUFkZHJlc3MsCiAgICAgICAgY3NzQ2xhc3M6ICdteS1jdXN0b20tY2xhc3MnLAogICAgICAgIGNvbXBvbmVudFByb3BzOiB7CiAgICAgICAgICB0aXRsZTogJ0NyZWF0ZSBBZGRyZXNzJwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBtb2RhbC5wcmVzZW50KCk7CiAgICB9LAoKICAgIGFzeW5jIHVwZGF0ZUFkZHJlc3MoKSB7CiAgICAgIGNvbnN0IG1vZGFsID0gYXdhaXQgbW9kYWxDb250cm9sbGVyLmNyZWF0ZSh7CiAgICAgICAgY29tcG9uZW50OiBFZGl0QWRkcmVzcywKICAgICAgICBjc3NDbGFzczogJ215LWN1c3RvbS1jbGFzcycsCiAgICAgICAgY29tcG9uZW50UHJvcHM6IHsKICAgICAgICAgIHRpdGxlOiBgRWRpdCAke3RoaXMuY3VycmVudEFkZHJlc3MubGFiZWx9IEFkZHJlc3NgLAogICAgICAgICAgY3VycmVudEFkZHJlc3M6IHRoaXMuY3VycmVudEFkZHJlc3MKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gbW9kYWwucHJlc2VudCgpOwogICAgfSwKCiAgICBzZXRDdXJyZW50KGFkZCkgewogICAgICB0aGlzLmN1cnJlbnRBZGRyZXNzID0gYWRkOwogICAgfSwKCiAgICBhc3luYyBkaXNtaXNzTW9kYWwoKSB7CiAgICAgIGF3YWl0IG1vZGFsQ29udHJvbGxlci5kaXNtaXNzKCk7CiAgICB9CgogIH0KfSk7"},{"version":3,"sources":["/Users/mac/Sites/maeketcentamobile/src/components/AddressComponents/ManageAddress.vue"],"names":[],"mappings":"AA8EA,SAAS,eAAT,QAAgC,KAAhC;AACA,SAAU,OAAV,EAAmB,SAAnB,EAA8B,UAA9B,EAA0C,QAA1C,EAAoD,OAApD,EACA,QADA,EACU,SADV,EACqB,UADrB,EACiC,QADjC,EAC2C,aAD3C,EAC0D,UAD1D,EACsE,OADtE,QACqF,YADrF;AAEA,SAAS,YAAT,QAA6B,gBAA7B;AACA,SAAS,eAAT,QAAgC,YAAhC;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,OAAO,aAAP,MAA0B,8CAA1B;AACA,OAAO,WAAP,MAAwB,4CAAxB;AACA,OAAO,YAAP,MAAyB,2BAAzB;AACA,eAAe,eAAe,CAAC;AAC7B,EAAA,UAAU,EAAE;AACV,IAAA,OADU;AAEV,IAAA,SAFU;AAGV,IAAA,UAHU;AAIV,IAAA,QAJU;AAKV,IAAA,QALU;AAMV,IAAA,SANU;AAOV,IAAA,UAPU;AAQV,IAAA,aARU;AASV,IAAA,QATU;AAUV,IAAA,OAVU;AAWV,IAAA,UAXU;AAYV,IAAA,OAZU;AAaV,IAAA;AAbU,GADiB;AAgB7B,EAAA,KAAK,EAAE;AACH,IAAA,KAAK,EAAE,MADJ;AAEH,IAAA,UAAU,EAAE;AAFT,GAhBsB;AAoB7B,EAAA,QAAQ,EAAE,UAAU,CAAC,CAAC,YAAD,EAAe,WAAf,CAAD,CApBS;;AAqB7B,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,OAAO,EAAE,KADJ;AAEL,MAAA,UAAU,EAAE,KAFP;AAGL,MAAA,eAAe,EAAE,KAAK,UAHjB;AAIL,MAAA,cAAc,EAAE,EAJX;AAKL,MAAA;AALK,KAAP;AAOD,GA7B4B;;AA8B7B,EAAA,OAAO,GAAG;AACR,SAAK,WAAL;AACA,SAAK,QAAL;AACD,GAjC4B;;AAkC7B,EAAA,OAAO,EAAE,EACP,GAAG,UAAU,CAAC,CAAC,aAAD,EAAgB,qBAAhB,EAAuC,kBAAvC,CAAD,CADN;;AAEP,UAAM,QAAN,GAAiB;AACf,WAAK,OAAL,GAAe,IAAf;AACA,YAAM,KAAK,gBAAL,EAAN;AACA,WAAK,OAAL,GAAe,KAAf;AACD,KANM;;AAOP,IAAA,UAAU,GAAG;AACX,WAAK,cAAL,CAAoB,yBAApB;AACA,MAAA,KAAI,CACD,IADH,CAEI,KAAK,kBAAL,CAAwB,sBAAxB,CAFJ,EAGI,KAAK,eAHT,EAII;AACE,QAAA,OAAO,EAAE;AACP,UAAA,aAAa,EAAG,UAAS,KAAK,UAAW;AADlC;AADX,OAJJ,EAUG,IAVH,CAUS,GAAD,IAAS;AACb,YAAI,GAAG,CAAC,IAAJ,CAAS,MAAT,IAAmB,SAAvB,EAAkC;AAChC,eAAK,mBAAL;AACA,eAAK,SAAL,CAAe,GAAG,CAAC,IAAJ,CAAS,OAAxB,EAAiC,SAAjC;AACA,eAAK,YAAL;AACF;AACD,OAhBH,EAiBG,KAjBH,CAiBU,KAAD,IAAW;AACd,aAAK,SAAL,CAAe,sCAAf,EAAuD,QAAvD;AACA,aAAK,YAAL,CAAkB,KAAlB;AACH,OApBH,EAqBG,OArBH,CAqBW,MAAM;AACb,aAAK,cAAL;AACD,OAvBH;AAwBD,KAjCM;;AAkCP,UAAM,aAAN,GAAsB;AAClB,YAAM,KAAI,GAAI,MAAM,eAAe,CAAC,MAAhB,CAAuB;AACzC,QAAA,SAAS,EAAE,aAD8B;AAEzC,QAAA,QAAQ,EAAE,iBAF+B;AAGzC,QAAA,cAAc,EAAE;AACd,UAAA,KAAK,EAAE;AADO;AAHyB,OAAvB,CAApB;AAOA,aAAO,KAAK,CAAC,OAAN,EAAP;AACH,KA3CM;;AA4CP,UAAM,aAAN,GAAsB;AAClB,YAAM,KAAI,GAAI,MAAM,eAAe,CAAC,MAAhB,CAAuB;AACzC,QAAA,SAAS,EAAE,WAD8B;AAEzC,QAAA,QAAQ,EAAE,iBAF+B;AAGzC,QAAA,cAAc,EAAE;AACd,UAAA,KAAK,EAAG,QAAO,KAAK,cAAL,CAAoB,KAAK,UAD1B;AAEd,UAAA,cAAc,EAAC,KAAK;AAFN;AAHyB,OAAvB,CAApB;AAQA,aAAO,KAAK,CAAC,OAAN,EAAP;AACH,KAtDM;;AAuDP,IAAA,UAAU,CAAC,GAAD,EAAM;AACd,WAAK,cAAL,GAAsB,GAAtB;AACD,KAzDM;;AA0DP,UAAM,YAAN,GAAqB;AACjB,YAAM,eAAe,CAAC,OAAhB,EAAN;AACJ;;AA5DO;AAlCoB,CAAD,CAA9B","sourcesContent":["<template>\r\n  <ion-content>\r\n    <ion-header>\r\n        <ion-toolbar>\r\n            <ion-title>{{ title }}</ion-title>\r\n            <ion-buttons slot=\"end\">\r\n                <ion-button color=\"dark\" @click=\"dismissModal\">\r\n                    <ion-icon slot=\"icon-only\" :icon=\"closeOutline\"></ion-icon>\r\n                </ion-button>\r\n            </ion-buttons>\r\n        </ion-toolbar>\r\n    </ion-header>\r\n    <div v-if=\"loading\">\r\n      <SkeletonText />\r\n    </div>\r\n    <div v-else>\r\n      <div class=\"d-flex ion-padding mb-3\">\r\n        <h5 style=\"margin-bottom: 0 !important\">My Addresses</h5>\r\n        <div class=\"ml-auto\">\r\n          <ion-button\r\n            color=\"primary\"\r\n            size=\"sm\"\r\n            fill=\"outline\"\r\n            class=\"add-address\"\r\n            @click=\"createAddress\"\r\n          >\r\n            ADD NEW ADDRESS\r\n          </ion-button>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <div v-if=\"addresses.length\">\r\n          <div v-for=\"(add, i) in addresses\" :key=\"i\">\r\n              <div class=\"bg-address\">\r\n                  <div class=\"d-flex\">\r\n                      <ion-list>\r\n                          <ion-radio-group v-model=\"selectedAddress\">\r\n                              <ion-item class=\"border-none\">\r\n                                  <ion-label class=\"address-content\">\r\n                                      <h5 style=\"font-weight: 600; font-size: 16px\">{{ add.label }}</h5>\r\n                                      <p>{{ add.street_address }}, {{ add.name }}</p>\r\n                                      <p v-if=\"add.direction\">{{ add.direction }}</p>\r\n                                      <p>{{ add.phone }}</p>\r\n                                      <p v-if=\"add.second_number\">{{ add.second_number }}</p>\r\n                                  </ion-label>\r\n                                  <ion-radio slot=\"start\" :value=\"add\" :checked=\"add == defaultAdd\"></ion-radio>\r\n                              </ion-item>\r\n                          </ion-radio-group>\r\n                      </ion-list>\r\n                      <div class=\"ml-auto\">\r\n                          <a @click=\" setCurrent(add); updateAddress()\">EDIT</a>\r\n                      </div>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n          <div class=\"order-btn\">\r\n          <ion-button\r\n              class=\"mb-3\"\r\n              color=\"primary\"\r\n              expand=\"block\"\r\n              @click=\"useAddress\"\r\n          >\r\n              USE ADDRESS\r\n          </ion-button>\r\n          <ion-button type=\"button\" style=\"margin-top: 15px\" color=\"light\" @click=\"dismissModal\" expand=\"block\">\r\n              CANCEL\r\n          </ion-button>\r\n      </div>\r\n\r\n        </div>\r\n        <div v-else class=\"alert alert-info\" style=\"margin: 10px\">\r\n          <h6>No address created yet</h6>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ion-content>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport  { IonItem, IonHeader, IonToolbar, IonTitle, IonList,\r\nIonLabel, IonButton, IonButtons, IonRadio, IonRadioGroup, IonContent, IonIcon } from '@ionic/vue'\r\nimport { closeOutline } from 'ionicons/icons';\r\nimport { modalController } from \"@ionic/vue\";\r\nimport axios from \"axios\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport CreateAddress from '@/components/AddressComponents/CreateAddress'\r\nimport EditAddress from '@/components/AddressComponents/EditAddress'\r\nimport SkeletonText from '@/components/SkeletonText'\r\nexport default defineComponent({\r\n  components: {\r\n    IonItem,\r\n    IonHeader,\r\n    IonToolbar,\r\n    IonTitle,\r\n    IonLabel,\r\n    IonButton,\r\n    IonButtons,\r\n    IonRadioGroup,\r\n    IonRadio, \r\n    IonList,\r\n    IonContent,\r\n    IonIcon,\r\n    SkeletonText\r\n  },\r\n  props: {\r\n      title: String,\r\n      defaultAdd: Object\r\n  },\r\n  computed: mapGetters([\"auth_token\", \"addresses\"]),\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      useLoading: false,\r\n      selectedAddress: this.defaultAdd,\r\n      currentAddress: {},\r\n      closeOutline\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getAuthData();\r\n    this.fetchAdd();\r\n  },\r\n  methods: {\r\n    ...mapActions([\"getAuthData\", \"fetchDefaultAddress\", \"fetchUserAddress\"]),\r\n    async fetchAdd() {\r\n      this.loading = true\r\n      await this.fetchUserAddress()\r\n      this.loading = false\r\n    },\r\n    useAddress() {\r\n      this.presentLoading('Setting default address');\r\n      axios\r\n        .post(\r\n          this.dynamic_auth_route(\"user/address/default\"),\r\n          this.selectedAddress,\r\n          {\r\n            headers: {\r\n              authorization: `Bearer ${this.auth_token}`,\r\n            },\r\n          }\r\n        )\r\n        .then((res) => {\r\n          if (res.data.status == \"success\") {\r\n            this.fetchDefaultAddress()\r\n            this.openToast(res.data.message, 'success');\r\n            this.dismissModal();\r\n          }\r\n        })\r\n        .catch((error) => {\r\n            this.openToast(\"An error occured. Please, try again.\", 'danger');\r\n            this.tokenExpired(error);\r\n        })\r\n        .finally(() => {\r\n          this.dismissLoading();\r\n        });\r\n    },\r\n    async createAddress() {\r\n        const modal = await modalController.create({\r\n          component: CreateAddress,\r\n          cssClass: 'my-custom-class',\r\n          componentProps: {\r\n            title: 'Create Address',\r\n          },\r\n        });\r\n        return modal.present();\r\n    },\r\n    async updateAddress() {\r\n        const modal = await modalController.create({\r\n          component: EditAddress,\r\n          cssClass: 'my-custom-class',\r\n          componentProps: {\r\n            title: `Edit ${this.currentAddress.label} Address`,\r\n            currentAddress:this.currentAddress\r\n          },\r\n        });\r\n        return modal.present();\r\n    },\r\n    setCurrent(add) {\r\n      this.currentAddress = add;\r\n    },\r\n    async dismissModal() {\r\n        await modalController.dismiss();\r\n    }\r\n  },\r\n});\r\n</script>\r\n<style scoped>\r\n.add-address {\r\n  font-size: 13px !important;\r\n  font-weight: 600;\r\n  color: #f26b31;\r\n}\r\n.add-address:hover {\r\n  color: #ffffff !important;\r\n}\r\n.bg-address {\r\n  border-radius: 4px;\r\n  border: 1px solid #ededed;\r\n  padding: 8px 15px 8px 1px;\r\n  word-break: break-all;\r\n}\r\n.address-content{\r\n    width: 220px;\r\n    white-space: normal !important;\r\n}\r\n.address-content h5 {\r\n  font-size: 22px;\r\n}\r\n.address-content p {\r\n  font-size: 14px;\r\n  line-height: 1.6 !important;\r\n}\r\n.border-none {\r\n    --border-color: transparent !important;\r\n}\r\n.order-btn {\r\n    padding: 20px 10px 20px;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}