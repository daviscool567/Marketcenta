{"remainingRequest":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\xampp\\htdocs\\maeketcentamobile\\src\\components\\FundWallet.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\src\\components\\FundWallet.vue","mtime":1639562184761},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\babel.config.js","mtime":1638646982756},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\xampp\\htdocs\\maeketcentamobile\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgSW9uSW5wdXQsIElvbkl0ZW0sIElvbkhlYWRlciwgSW9uVG9vbGJhciwgSW9uVGl0bGUsIElvbkxhYmVsLCBJb25CdXR0b24sIElvbkJ1dHRvbnMsIElvbkNvbnRlbnQsIElvbkljb24gfSBmcm9tICdAaW9uaWMvdnVlJzsKaW1wb3J0IHsgY2xvc2VPdXRsaW5lIH0gZnJvbSAnaW9uaWNvbnMvaWNvbnMnOwppbXBvcnQgeyBtb2RhbENvbnRyb2xsZXIgfSBmcm9tICJAaW9uaWMvdnVlIjsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIHByb3BzOiB7CiAgICB0aXRsZTogU3RyaW5nLAogICAgdXNlckRhdGE6IE9iamVjdCwKICAgIGF1dGhUb2tlbjogU3RyaW5nCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBJb25JbnB1dCwKICAgIElvbkl0ZW0sCiAgICBJb25IZWFkZXIsCiAgICBJb25Ub29sYmFyLAogICAgSW9uVGl0bGUsCiAgICBJb25MYWJlbCwKICAgIElvbkJ1dHRvbiwKICAgIElvbkJ1dHRvbnMsCiAgICBJb25Db250ZW50LAogICAgSW9uSWNvbgogIH0sCiAgY29tcHV0ZWQ6IG1hcEdldHRlcnMoWyJhdXRoX3Rva2VuIiwgImF1dGhfdXNlciJdKSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNsb3NlT3V0bGluZSwKICAgICAgYW1vdW50OiAiIgogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBdXRoRGF0YSgpOwogIH0sCgogIG1ldGhvZHM6IHsgLi4ubWFwQWN0aW9ucyhbImdldEF1dGhEYXRhIl0pLAoKICAgIGZ1bmRXYWxsZXQoKSB7CiAgICAgIGxldCByZWYgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNik7CiAgICAgIGNvbnN0IHVzZXJJZCA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuaWQ7CiAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy5keW5hbWljX2F1dGhfcm91dGUoIndhbGxldHMvcGF5bWVudC92ZXJpZnkiKTsKICAgICAgY29uc3QgaGVhZGVyID0gewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmF1dGhfdG9rZW59YAogICAgICAgIH0KICAgICAgfTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCgogICAgICBGbHV0dGVyd2F2ZUNoZWNrb3V0KHsKICAgICAgICBwdWJsaWNfa2V5OiAiRkxXUFVCS19URVNULTE3NTk1OWZlNzBmYzExZjVmMzM1Nzc3MDhiNTdkOGQ0LVgiLAogICAgICAgIHR4X3JlZjogcmVmLAogICAgICAgIGFtb3VudDogdGhpcy5hbW91bnQsCiAgICAgICAgY3VycmVuY3k6ICJOR04iLAogICAgICAgIGNvdW50cnk6ICJORyIsCiAgICAgICAgcGF5bWVudF9vcHRpb25zOiAiICIsCiAgICAgICAgY3VzdG9tZXI6IHsKICAgICAgICAgIGVtYWlsOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmVtYWlsLAogICAgICAgICAgcGhvbmVfbnVtYmVyOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnBob25lLAogICAgICAgICAgbmFtZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5uYW1lCiAgICAgICAgfSwKICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgIC8vIHNwZWNpZmllZCBjYWxsYmFjayBmdW5jdGlvbgogICAgICAgICAgbGV0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgIGZvcm0uYXBwZW5kKCJ0cmFuc1JlZiIsIGRhdGEudHJhbnNhY3Rpb25faWQpOwogICAgICAgICAgZm9ybS5hcHBlbmQoInVzZXJJZCIsIHVzZXJJZCk7CiAgICAgICAgICBheGlvcy5wb3N0KHJvdXRlLCBmb3JtLCBoZWFkZXIpLnRoZW4oKCkgPT4gewogICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgICAgICB9LAogICAgICAgIGN1c3RvbWl6YXRpb25zOiB7CiAgICAgICAgICB0aXRsZTogIk1hcmtldGNlbnRhIiwKICAgICAgICAgIGRlc2NyaXB0aW9uOiAiUGF5bWVudCBmb3IgZS13YWxsZXQgZnVuZGluZyIsCiAgICAgICAgICBsb2dvOiAiaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vYWRldGF5b2FwcGxpY2F0aW9uL2ltYWdlL3VwbG9hZC92MTYzNjM4NzQ5Ni9tYXJrZXRsb2dvc21fZTdvYnc3LnBuZyIKICAgICAgICB9CiAgICAgIH0pOyAvLwogICAgfSwKCiAgICBhc3luYyBkaXNtaXNzTW9kYWwoKSB7CiAgICAgIGF3YWl0IG1vZGFsQ29udHJvbGxlci5kaXNtaXNzKCk7CiAgICB9CgogIH0KfSk7"},{"version":3,"sources":["C:\\xampp\\htdocs\\maeketcentamobile\\src\\components\\FundWallet.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <ion-content>\r\n        <ion-header>\r\n            <ion-toolbar>\r\n                <ion-title>{{ title }}</ion-title>\r\n                <ion-buttons slot=\"end\">\r\n                    <ion-button color=\"dark\" @click=\"dismissModal\">\r\n                        <ion-icon slot=\"icon-only\" :icon=\"closeOutline\"></ion-icon>\r\n                    </ion-button>\r\n                </ion-buttons>\r\n            </ion-toolbar>\r\n        </ion-header>\r\n        <!-- <form @submit.prevent=\"fundWallet\" class=\" mt-4\"> -->\r\n            <div>\r\n                <ion-item>\r\n                    <ion-label position=\"floating\">Amount</ion-label>\r\n                    <ion-input type=\"text\" v-model=\"amount\" required></ion-input>\r\n                </ion-item>\r\n            </div>\r\n            <div class=\"order-btn\">\r\n                <ion-button\r\n                    class=\"mb-3\"\r\n                    color=\"primary\"\r\n                    expand=\"block\"\r\n                    type=\"submit\"\r\n                    @click=\"fundWallet\"\r\n                >\r\n                    PAY NOW\r\n                </ion-button>\r\n                <ion-button type=\"button\" style=\"margin-top: 15px\" color=\"light\" @click=\"dismissModal\" expand=\"block\">\r\n                    CLOSE\r\n                </ion-button>\r\n            </div>\r\n        <!-- </form> -->\r\n    </ion-content>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport  { IonInput, IonItem, IonHeader, IonToolbar, IonTitle, \r\nIonLabel, IonButton, IonButtons, IonContent, IonIcon } from '@ionic/vue'\r\nimport { closeOutline } from 'ionicons/icons';\r\nimport { modalController } from \"@ionic/vue\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport axios from \"axios\";\r\n\r\nexport default defineComponent({\r\n    props: {\r\n        title: String,\r\n        userData: Object,\r\n        authToken: String,\r\n    },\r\n    components: {\r\n        IonInput,\r\n        IonItem,\r\n        IonHeader,\r\n        IonToolbar,\r\n        IonTitle,\r\n        IonLabel,\r\n        IonButton,\r\n        IonButtons,\r\n        IonContent, \r\n        IonIcon\r\n    },\r\n    computed: mapGetters([\"auth_token\", \"auth_user\"]),\r\n    data() {\r\n        return {\r\n            closeOutline,\r\n            amount: \"\",\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getAuthData();\r\n    },\r\n    methods: {\r\n        ...mapActions([\"getAuthData\"]),\r\n        fundWallet() {\r\n            let ref = Math.random().toString(36).substr(2, 6);\r\n            const userId = this.$store.state.user.id;\r\n            const route = this.dynamic_auth_route(\"wallets/payment/verify\");\r\n            const header = {\r\n                headers: {\r\n                authorization: `Bearer ${this.auth_token}`,\r\n                },\r\n            };\r\n            // eslint-disable-next-line no-undef\r\n            FlutterwaveCheckout({\r\n                public_key: \"FLWPUBK_TEST-175959fe70fc11f5f33577708b57d8d4-X\",\r\n                tx_ref: ref,\r\n                amount: this.amount,\r\n                currency: \"NGN\",\r\n                country: \"NG\",\r\n                payment_options: \" \",\r\n                customer: {\r\n                    email: this.$store.state.user.email,\r\n                    phone_number: this.$store.state.user.phone,\r\n                    name: this.$store.state.user.name,\r\n                },\r\n                callback: function (data) {\r\n                    // specified callback function\r\n                    let form = new FormData();\r\n                    form.append(\"transRef\", data.transaction_id);\r\n                    form.append(\"userId\", userId);\r\n                    axios\r\n                        .post(route, form, header)\r\n                        .then(() => {\r\n                            location.reload();\r\n                        })\r\n                        .catch(() => {\r\n                    \r\n                        });\r\n                },\r\n                customizations: {\r\n                    title: \"Marketcenta\",\r\n                    description: \"Payment for e-wallet funding\",\r\n                    logo: \"https://res.cloudinary.com/adetayoapplication/image/upload/v1636387496/marketlogosm_e7obw7.png\",\r\n                },\r\n            });\r\n            //\r\n        },\r\n        async dismissModal() {\r\n            await modalController.dismiss();\r\n        }\r\n        \r\n    }\r\n})\r\n</script>\r\n<style scoped>\r\n.order-btn {\r\n    padding: 30px 10px 10px;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}