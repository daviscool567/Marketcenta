{"remainingRequest":"/Users/mac/Sites/maeketcentamobile/node_modules/babel-loader/lib/index.js!/Users/mac/Sites/maeketcentamobile/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/mac/Sites/maeketcentamobile/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/mac/Sites/maeketcentamobile/src/components/OrdersComponent/ClosedOrders.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mac/Sites/maeketcentamobile/src/components/OrdersComponent/ClosedOrders.vue","mtime":1642924644717},{"path":"/Users/mac/Sites/maeketcentamobile/babel.config.js","mtime":1638646982756},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Sites/maeketcentamobile/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBtb2RhbENvbnRyb2xsZXIgfSBmcm9tICJAaW9uaWMvdnVlIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgUHJvZHVjdE9yZGVyRGV0YWlscyBmcm9tICdAL2NvbXBvbmVudHMvT3JkZXJzQ29tcG9uZW50L1Byb2R1Y3RPcmRlckRldGFpbHMnOwppbXBvcnQgU2tlbGV0b25UZXh0IGZyb20gJ0AvY29tcG9uZW50cy9Ta2VsZXRvblRleHQnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFNrZWxldG9uVGV4dAogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbG9zZWRPcmRlcnM6IHt9LAogICAgICBjdXJyZW50T3JkZXI6IHt9LAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAoKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRBdXRoRGF0YSgpOwogICAgdGhpcy5mZXRjaENsb3NlZE9yZGVycygpOwogIH0sCgogIGNvbXB1dGVkOiB7IC4uLm1hcEdldHRlcnMoWyJhdXRoX3Rva2VuIiwgImF1dGhfdXNlciJdKQogIH0sCiAgbWV0aG9kczogeyAuLi5tYXBBY3Rpb25zKFsiZ2V0QXV0aERhdGEiXSksCgogICAgc2V0Q3VycmVudChkYXRhKSB7CiAgICAgIHRoaXMuY3VycmVudE9yZGVyID0gZGF0YTsKICAgIH0sCgogICAgZmV0Y2hDbG9zZWRPcmRlcnMoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybS5hcHBlbmQoInVzZXJJZCIsIHRoaXMuYXV0aF91c2VyLmlkKTsKICAgICAgYXhpb3MucG9zdCh0aGlzLmR5bmFtaWNfcm91dGUoInByb2R1Y3RzL29yZGVycy9jbG9zZWQvZmV0Y2giKSwgZm9ybSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0aGlzLmF1dGhfdG9rZW59YAogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuY2xvc2VkT3JkZXJzID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICB0aGlzLm9wZW5Ub2FzdCgiQW4gZXJyb3Igb2NjdXJlZC4gUGxlYXNlLCB0cnkgYWdhaW4uIiwgJ2RhbmdlcicpOwogICAgICAgIHRoaXMudG9rZW5FeHBpcmVkKGVycm9yKTsKICAgICAgfSkuZmluYWxseSgoKSA9PiB0aGlzLmxvYWRpbmcgPSBmYWxzZSk7CiAgICB9LAoKICAgIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdCgiRC1NTS1ZWVlZIik7CiAgICB9LAoKICAgIGFzeW5jIG9yZGVyRGV0YWlscygpIHsKICAgICAgY29uc3QgbW9kYWwgPSBhd2FpdCBtb2RhbENvbnRyb2xsZXIuY3JlYXRlKHsKICAgICAgICBjb21wb25lbnQ6IFByb2R1Y3RPcmRlckRldGFpbHMsCiAgICAgICAgY3NzQ2xhc3M6ICdteS1jdXN0b20tY2xhc3MnLAogICAgICAgIGNvbXBvbmVudFByb3BzOiB7CiAgICAgICAgICB0aXRsZTogJ09yZGVyIGRldGFpbHMnLAogICAgICAgICAgZGV0YWlsczogdGhpcy5jdXJyZW50T3JkZXIKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gbW9kYWwucHJlc2VudCgpOwogICAgfQoKICB9Cn0pOw=="},{"version":3,"sources":["/Users/mac/Sites/maeketcentamobile/src/components/OrdersComponent/ClosedOrders.vue"],"names":[],"mappings":"AAuDA,SAAS,eAAT,QAAgC,KAAhC;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,SAAS,eAAT,QAAgC,YAAhC;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAP,MAAmB,QAAnB;AACA,OAAO,mBAAP,MAAgC,kDAAhC;AACA,OAAO,YAAP,MAAyB,2BAAzB;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,UAAU,EAAE;AACV,IAAA;AADU,GADiB;;AAI7B,EAAA,IAAI,GAAG;AACL,WAAO;AACL,MAAA,YAAY,EAAE,EADT;AAEL,MAAA,YAAY,EAAE,EAFT;AAGL,MAAA,OAAO,EAAE;AAHJ,KAAP;AAKD,GAV4B;;AAW7B,EAAA,OAAO,GAAG;AACR,SAAK,WAAL;AACA,SAAK,iBAAL;AACD,GAd4B;;AAe7B,EAAA,QAAQ,EAAE,EACR,GAAG,UAAU,CAAC,CAAC,YAAD,EAAe,WAAf,CAAD;AADL,GAfmB;AAkB7B,EAAA,OAAO,EAAE,EACP,GAAG,UAAU,CAAC,CAAC,aAAD,CAAD,CADN;;AAEP,IAAA,UAAU,CAAC,IAAD,EAAO;AACf,WAAK,YAAL,GAAoB,IAApB;AACD,KAJM;;AAKP,IAAA,iBAAiB,GAAG;AAClB,WAAK,OAAL,GAAe,IAAf;AACA,YAAM,IAAG,GAAI,IAAI,QAAJ,EAAb;AACA,MAAA,IAAI,CAAC,MAAL,CAAY,QAAZ,EAAsB,KAAK,SAAL,CAAe,EAArC;AACA,MAAA,KAAI,CACD,IADH,CACQ,KAAK,aAAL,CAAmB,8BAAnB,CADR,EAC4D,IAD5D,EACkE;AAC9D,QAAA,OAAO,EAAE;AACP,UAAA,aAAa,EAAG,UAAS,KAAK,UAAW;AADlC;AADqD,OADlE,EAMG,IANH,CAMS,GAAD,IAAS;AACb,aAAK,YAAL,GAAoB,GAAG,CAAC,IAAxB;AACD,OARH,EASG,KATH,CASU,KAAD,IAAW;AAChB,aAAK,SAAL,CAAe,sCAAf,EAAuD,QAAvD;AACA,aAAK,YAAL,CAAkB,KAAlB;AACD,OAZH,EAaG,OAbH,CAaW,MAAM,KAAK,OAAL,GAAe,KAbhC;AAcD,KAvBM;;AAwBP,IAAA,UAAU,CAAC,IAAD,EAAO;AACb,aAAO,MAAM,CAAC,IAAD,CAAN,CAAa,MAAb,CAAoB,WAApB,CAAP;AACH,KA1BM;;AA2BP,UAAM,YAAN,GAAqB;AACjB,YAAM,KAAI,GAAI,MAAM,eAAe,CAAC,MAAhB,CAAuB;AACvC,QAAA,SAAS,EAAE,mBAD4B;AAEvC,QAAA,QAAQ,EAAE,iBAF6B;AAGvC,QAAA,cAAc,EAAE;AACZ,UAAA,KAAK,EAAE,eADK;AAEZ,UAAA,OAAO,EAAE,KAAK;AAFF;AAHuB,OAAvB,CAApB;AAQA,aAAO,KAAK,CAAC,OAAN,EAAP;AACH;;AArCM;AAlBoB,CAAD,CAA9B","sourcesContent":["<template>\r\n    <div>\r\n      <div v-if=\"loading\">\r\n        <SkeletonText />\r\n      </div>\r\n      <div v-else>\r\n        <div class=\"mt-2\" v-if=\"closedOrders.length\">\r\n            <div v-for=\"(order, i) in closedOrders\" :key=\"i\">\r\n                <div class=\"order-bg\">\r\n                    <i class=\"mdi mdi-chevron-right float-right\"></i>\r\n                    <div class=\"d-flex mobile-product\">\r\n                        <div class=\"justify-content-start\">\r\n                            <div class=\"product-image-inner\">\r\n                                <div class=\"products-img-wrapper\">\r\n                                <img\r\n                                    :src=\"order.image[0].image\"\r\n                                    :alt=\"order.name\"\r\n                                    class=\"product-img img-fluid\"\r\n                                />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"justify-content-end ml-2\">\r\n                            <div\r\n                                class=\"product-content\"\r\n                                @click=\"\r\n                                setCurrent(order);\r\n                                orderDetails();\r\n                                \"\r\n                            >\r\n                                <h5 class=\"mb-2\" style=\"color: #111111 !important; font-weight: 600; font-size: 14px;\r\n                                margin-top: 0 !important\">\r\n                                    {{ order.name }}\r\n                                </h5>\r\n                                <h6>Order No. {{ order.order_number }}</h6>\r\n                               <div\r\n                                    class=\"badge badge-secondary\"\r\n                                    style=\"font-size: 11px; font-weight: 700\"\r\n                                >\r\n                                    REFUND COMPLETED\r\n                                </div>\r\n                                <h5>On {{ formatDate(order.created_at) }}</h5>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-else class=\"alert alert-info text-center text-uppercase mt-4 font-weight-bold\">\r\n            No closed orders\r\n        </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { modalController } from \"@ionic/vue\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport ProductOrderDetails from '@/components/OrdersComponent/ProductOrderDetails'\r\nimport SkeletonText from '@/components/SkeletonText'\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    SkeletonText,\r\n  },\r\n  data() {\r\n    return {\r\n      closedOrders: {},\r\n      currentOrder: {},\r\n      loading: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getAuthData();\r\n    this.fetchClosedOrders();\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"auth_token\", \"auth_user\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\"getAuthData\"]),\r\n    setCurrent(data) {\r\n      this.currentOrder = data;\r\n    },\r\n    fetchClosedOrders() {\r\n      this.loading = true\r\n      const form = new FormData();\r\n      form.append(\"userId\", this.auth_user.id);\r\n      axios\r\n        .post(this.dynamic_route(\"products/orders/closed/fetch\"), form, {\r\n          headers: {\r\n            authorization: `Bearer ${this.auth_token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          this.closedOrders = res.data;\r\n        })\r\n        .catch((error) => {\r\n          this.openToast(\"An error occured. Please, try again.\", 'danger');\r\n          this.tokenExpired(error);\r\n        })\r\n        .finally(() => this.loading = false);\r\n    },\r\n    formatDate(date) {\r\n        return moment(date).format(\"D-MM-YYYY\");\r\n    },\r\n    async orderDetails() {\r\n        const modal = await modalController.create({\r\n            component: ProductOrderDetails,\r\n            cssClass: 'my-custom-class',\r\n            componentProps: {\r\n                title: 'Order details',\r\n                details: this.currentOrder\r\n            },\r\n        });\r\n        return modal.present();\r\n    },\r\n  },\r\n})\r\n</script>\r\n<style scoped>\r\n.order-bg {\r\n  border: 1px solid #777777;\r\n  border-radius: 4px;\r\n  border: 1px solid #ededed;\r\n  padding: 8px;\r\n  word-break: break-all;\r\n  margin-bottom: 20px;\r\n}\r\n.mobile-product {\r\n  align-items: flex-start;\r\n}\r\n.product-image-inner {\r\n  min-height: auto;\r\n  color: #333333;\r\n}\r\n.products-img-wrapper {\r\n  box-shadow: 0 0 1px 1px hsl(0deg 0% 0% / 5%);\r\n  border-radius: 5px;\r\n}\r\n.mobile-product .products-img-wrapper,\r\n#mobile-recommended .mobile-product .products-img-wrapper {\r\n  width: 125px !important;\r\n  height: 120px;\r\n}\r\n.item-img {\r\n  border-bottom: 2px solid #f1f1f1;\r\n}\r\n.item-name {\r\n  margin-top: 0 !important;\r\n}\r\n.mobile-product .product-img,\r\n#mobile-recommended .mobile-product .product-img {\r\n  max-height: 152px;\r\n  min-height: 120px;\r\n}\r\n\r\n.product-img {\r\n  object-fit: cover;\r\n  max-width: 100%;\r\n  max-height: 180px;\r\n  width: 100%;\r\n  margin-bottom: 0 !important;\r\n  border-top-left-radius: 5px;\r\n  border-top-right-radius: 5px;\r\n}\r\n\r\n.item-name a {\r\n  font-weight: 600;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  text-decoration: none;\r\n  color: #5f5d5d !important;\r\n}\r\n\r\n.product-content {\r\n  position: relative;\r\n}\r\n.product-content h5 {\r\n  font-size: 14px !important;\r\n  margin-top: 2px !important;\r\n}\r\n\r\n.product-content h6 {\r\n  font-size: 13px !important;\r\n  font-weight: 500;\r\n  color: #555555;\r\n  margin-top: 0 !important;\r\n  margin-bottom: 5px !important;\r\n}\r\n\r\n.item-count h5 {\r\n  font-weight: 600;\r\n  opacity: 0.8;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}