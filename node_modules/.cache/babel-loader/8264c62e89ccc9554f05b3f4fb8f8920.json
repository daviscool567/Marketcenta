{"remainingRequest":"/Users/davismac/Documents/marketcentamobile/node_modules/babel-loader/lib/index.js!/Users/davismac/Documents/marketcentamobile/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/davismac/Documents/marketcentamobile/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/davismac/Documents/marketcentamobile/src/components/OrdersComponent/CreditPurchases.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/davismac/Documents/marketcentamobile/src/components/OrdersComponent/CreditPurchases.vue","mtime":1643189043000},{"path":"/Users/davismac/Documents/marketcentamobile/babel.config.js","mtime":1638646982000},{"path":"/Users/davismac/Documents/marketcentamobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/davismac/Documents/marketcentamobile/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/davismac/Documents/marketcentamobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/davismac/Documents/marketcentamobile/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBhbGVydENvbnRyb2xsZXIsIG1vZGFsQ29udHJvbGxlciwgSW9uQnV0dG9uIH0gZnJvbSAnQGlvbmljL3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IENyZWRpdE9yZGVyRGV0YWlscyBmcm9tICdAL2NvbXBvbmVudHMvT3JkZXJzQ29tcG9uZW50L0NyZWRpdE9yZGVyRGV0YWlscyc7CmltcG9ydCBTa2VsZXRvblRleHQgZnJvbSAnQC9jb21wb25lbnRzL1NrZWxldG9uVGV4dCc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgSW9uQnV0dG9uLAogICAgU2tlbGV0b25UZXh0CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNyZWRpdE9yZGVyczoge30sCiAgICAgIGN1cnJlbnRPcmRlcjoge30sCiAgICAgIGxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEF1dGhEYXRhKCk7CiAgICB0aGlzLmZldGNoQ3JlZGl0T3JkZXJzKCk7CiAgfSwKCiAgY29tcHV0ZWQ6IHsgLi4ubWFwR2V0dGVycyhbImF1dGhfdG9rZW4iLCAiYXV0aF91c2VyIl0pCiAgfSwKICBtZXRob2RzOiB7IC4uLm1hcEFjdGlvbnMoWyJnZXRBdXRoRGF0YSJdKSwKCiAgICBmZXRjaENyZWRpdE9yZGVycygpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtLmFwcGVuZCgidXNlcklkIiwgdGhpcy5hdXRoX3VzZXIuaWQpOwogICAgICBheGlvcy5wb3N0KHRoaXMuZHluYW1pY19yb3V0ZSgicHJvZHVjdHMvb3JkZXJzL2NyZWRpdC9mZXRjaCIpLCBmb3JtLCB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYXV0aF90b2tlbn1gCiAgICAgICAgfQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5jcmVkaXRPcmRlcnMgPSByZXMuZGF0YTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIHRoaXMub3BlblRvYXN0KCJBTiBlcnJvciBvY2N1cmVkLiBQbGVhc2UsIHRyeSBhZ2Fpbi4iLCAnZGFuZ2VyJyk7CiAgICAgICAgdGhpcy50b2tlbkV4cGlyZWQoZXJyb3IpOwogICAgICB9KS5maW5hbGx5KCgpID0+IHRoaXMubG9hZGluZyA9IGZhbHNlKTsKICAgIH0sCgogICAgc2V0Q3VycmVudChkYXRhKSB7CiAgICAgIHRoaXMuY3VycmVudE9yZGVyID0gZGF0YTsKICAgIH0sCgogICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KCJELU1NLVlZWVkiKTsKICAgIH0sCgogICAgYXN5bmMgcHJlc2VudEFsZXJ0Q29uZmlybSgpIHsKICAgICAgY29uc3QgYWxlcnQgPSBhd2FpdCBhbGVydENvbnRyb2xsZXIuY3JlYXRlKHsKICAgICAgICBjc3NDbGFzczogJ215LWN1c3RvbS1jbGFzcycsCiAgICAgICAgaGVhZGVyOiAnQ2FuY2VsIE9yZGVyPycsCiAgICAgICAgbWVzc2FnZTogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWwgb3JkZXInLAogICAgICAgIGJ1dHRvbnM6IFt7CiAgICAgICAgICB0ZXh0OiAnTm8sIGV4aXQnLAogICAgICAgICAgcm9sZTogJ2NhbmNlbCcsCiAgICAgICAgICBjc3NDbGFzczogJ3NlY29uZGFyeScsCiAgICAgICAgICBpZDogJ2NhbmNlbC1idXR0b24nLAogICAgICAgICAgaGFuZGxlcjogKCkgPT4ge30KICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAnWWVzLCBjb250aW51ZScsCiAgICAgICAgICBpZDogJ2NvbmZpcm0tYnV0dG9uJywKICAgICAgICAgIGhhbmRsZXI6ICgpID0+IHsKICAgICAgICAgICAgdGhpcy5jYW5jZWxPcmRlcigpOwogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0pOwogICAgICByZXR1cm4gYWxlcnQucHJlc2VudCgpOwogICAgfSwKCiAgICBhc3luYyBkaXNtaXNzQWxlcnQoKSB7CiAgICAgIGF3YWl0IGFsZXJ0Q29udHJvbGxlci5kaXNtaXNzKCk7CiAgICB9LAoKICAgIGFzeW5jIGNyZWRpdE9yZGVyRGV0YWlscygpIHsKICAgICAgY29uc3QgbW9kYWwgPSBhd2FpdCBtb2RhbENvbnRyb2xsZXIuY3JlYXRlKHsKICAgICAgICBjb21wb25lbnQ6IENyZWRpdE9yZGVyRGV0YWlscywKICAgICAgICBjc3NDbGFzczogJ215LWN1c3RvbS1jbGFzcycsCiAgICAgICAgY29tcG9uZW50UHJvcHM6IHsKICAgICAgICAgIHRpdGxlOiAnUHJvZHVjdHMgb24gY3JlZGl0JywKICAgICAgICAgIHByb2R1Y3RPcmRlcjogdGhpcy5jdXJyZW50T3JkZXIKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gbW9kYWwucHJlc2VudCgpOwogICAgfSwKCiAgICBwYXlOb3coKSB7CiAgICAgIGxldCByZWYgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNik7CiAgICAgIGNvbnN0IHVzZXJJZCA9IHRoaXMuYXV0aF91c2VyLmlkOwogICAgICBjb25zdCBvcmRlcklkID0gdGhpcy5jdXJyZW50T3JkZXIuaWQ7CiAgICAgIGNvbnN0IHJvdXRlID0gdGhpcy5keW5hbWljX3JvdXRlKCJwcm9kdWN0cy9vcmRlcnMvY3JlZGl0L3BheW1lbnQvdmVyaWZ5Iik7CiAgICAgIGNvbnN0IGhlYWRlciA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hdXRoX3Rva2VufWAKICAgICAgICB9CiAgICAgIH07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZgoKICAgICAgRmx1dHRlcndhdmVDaGVja291dCh7CiAgICAgICAgcHVibGljX2tleTogIkZMV1BVQkstMDQ5YTUzNzc0YTFkZDljYTI5ZGQyNmE2ZDNjMjNmYTQtWCIsCiAgICAgICAgdHhfcmVmOiByZWYsCiAgICAgICAgYW1vdW50OiB0aGlzLmN1cnJlbnRPcmRlci5hbW91bnRfcGFpZCwKICAgICAgICBjdXJyZW5jeTogIk5HTiIsCiAgICAgICAgY291bnRyeTogIk5HIiwKICAgICAgICBwYXltZW50X29wdGlvbnM6ICIgIiwKICAgICAgICBjdXN0b21lcjogewogICAgICAgICAgZW1haWw6IHRoaXMuYXV0aF91c2VyLmVtYWlsLAogICAgICAgICAgcGhvbmVfbnVtYmVyOiB0aGlzLmF1dGhfdXNlci5waG9uZSwKICAgICAgICAgIG5hbWU6IHRoaXMuYXV0aF91c2VyLm5hbWUKICAgICAgICB9LAogICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgLy8gc3BlY2lmaWVkIGNhbGxiYWNrIGZ1bmN0aW9uCiAgICAgICAgICBsZXQgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgZm9ybS5hcHBlbmQoInRyYW5zUmVmIiwgZGF0YS50cmFuc2FjdGlvbl9pZCk7CiAgICAgICAgICBmb3JtLmFwcGVuZCgidXNlcklkIiwgdXNlcklkKTsKICAgICAgICAgIGZvcm0uYXBwZW5kKCJvcmRlcklkIiwgb3JkZXJJZCk7CiAgICAgICAgICBheGlvcy5wb3N0KHJvdXRlLCBmb3JtLCBoZWFkZXIpLnRoZW4oKCkgPT4gewogICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKICAgICAgICB9LAogICAgICAgIGN1c3RvbWl6YXRpb25zOiB7CiAgICAgICAgICB0aXRsZTogIk1hcmtldGNlbnRhIiwKICAgICAgICAgIGRlc2NyaXB0aW9uOiAiUGF5bWVudCBmb3IgaXRlbXMgcHVyY2hhc2VkIG9uIGNyZWRpdCIsCiAgICAgICAgICBsb2dvOiAiaHR0cHM6Ly9yZXMuY2xvdWRpbmFyeS5jb20vYWRldGF5b2FwcGxpY2F0aW9uL2ltYWdlL3VwbG9hZC92MTYzNjM4NzQ5Ni9tYXJrZXRsb2dvc21fZTdvYnc3LnBuZyIKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9Cn0pOw=="},{"version":3,"sources":["/Users/davismac/Documents/marketcentamobile/src/components/OrdersComponent/CreditPurchases.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div v-if=\"loading\">\r\n      <SkeletonText />\r\n    </div>\r\n    <div v-else>\r\n      <div class=\"alert alert-info mt-4\" style=\"line-height: 1.8; font-size: 15px\">\r\n        <b>Note:</b> All items purchased on credit are expected to be paid fourteen\r\n        (14) days after delivery. Failure to do so leads to termination of\r\n        Membership subscription\r\n      </div>\r\n      <div class=\"mt-2\" v-if=\"creditOrders.length\">\r\n        <div v-for=\"(order, i) in creditOrders\" :key=\"i\">\r\n          <div\r\n            class=\"order-bg\"\r\n            @click=\"setCurrent(order); creditOrderDetails();\">\r\n            <i class=\"mdi mdi-chevron-right float-right\"></i>\r\n            <ion-button\r\n              size=\"small\"\r\n              color=\"success\"\r\n              class=\"float-right mr-2 text-white\"\r\n              v-if=\"order.status == 'unpaid'\"\r\n              @click=\"setCurrent(order); payNow();\">\r\n              PAY NOW\r\n            </ion-button>\r\n            <div>\r\n              <h6 style=\"margin-top: 0 !important; color: #000000\">Order Number</h6>\r\n              <p class=\"mb-2\" style=\"font-size: 15px; margin-top: 2px !important; color: #222222\">{{ order.order_id }}</p>\r\n              <span style=\"font-size: 13px !important\"\r\n                class=\"badge mt-1 text-uppercase\"\r\n                :class=\"{\r\n                  'badge-success': order.status == 'paid',\r\n                  'badge-danger': order.status == 'unpaid',\r\n                }\"\r\n              >\r\n                {{ order.status }}\r\n              </span>\r\n              <small class=\"ml-2\" style=\"font-size: 14px; color: #333333\"\r\n                >Ordered on: {{ formatDate(order.created_at) }}</small\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"alert alert-info text-center text-uppercase mt-4 font-weight-bold\">\r\n        No orders made on credit\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from 'vue'\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport  { alertController, modalController, IonButton } from '@ionic/vue'\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport CreditOrderDetails from '@/components/OrdersComponent/CreditOrderDetails'\r\nimport SkeletonText from '@/components/SkeletonText'\r\nexport default defineComponent({\r\n  components: {\r\n    IonButton,\r\n    SkeletonText,\r\n  },\r\n  data() {\r\n    return {\r\n      creditOrders: {},\r\n      currentOrder: {},\r\n      loading: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getAuthData();\r\n    this.fetchCreditOrders();\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"auth_token\", \"auth_user\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\"getAuthData\"]),\r\n    fetchCreditOrders() {\r\n      this.loading = true\r\n      const form = new FormData();\r\n      form.append(\"userId\", this.auth_user.id);\r\n      axios\r\n        .post(this.dynamic_route(\"products/orders/credit/fetch\"), form, {\r\n          headers: {\r\n            authorization: `Bearer ${this.auth_token}`,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          this.creditOrders = res.data;\r\n        })\r\n        .catch((error) => {\r\n          this.openToast(\"AN error occured. Please, try again.\", 'danger');\r\n          this.tokenExpired(error);\r\n        })\r\n        .finally(() => this.loading=false);\r\n    },\r\n    setCurrent(data) {\r\n      this.currentOrder = data;\r\n    },\r\n    formatDate(date) {\r\n        return moment(date).format(\"D-MM-YYYY\");\r\n    },\r\n    async presentAlertConfirm() {\r\n      const alert = await alertController\r\n        .create({\r\n          cssClass: 'my-custom-class',\r\n          header: 'Cancel Order?',\r\n          message: 'Are you sure you want to cancel order',\r\n          buttons: [\r\n            {\r\n              text: 'No, exit',\r\n              role: 'cancel',\r\n              cssClass: 'secondary',\r\n              id: 'cancel-button',\r\n              handler: () => {\r\n              },\r\n            },\r\n            {\r\n              text: 'Yes, continue',\r\n              id: 'confirm-button',\r\n              handler: () => {\r\n                this.cancelOrder()\r\n              },\r\n            },\r\n          ],\r\n        });\r\n      return alert.present();\r\n    },\r\n    async dismissAlert() {\r\n        await alertController.dismiss();\r\n    },\r\n    async creditOrderDetails() {\r\n        const modal = await modalController.create({\r\n            component: CreditOrderDetails,\r\n            cssClass: 'my-custom-class',\r\n            componentProps: {\r\n                title: 'Products on credit',\r\n                productOrder: this.currentOrder\r\n            },\r\n        });\r\n        return modal.present();\r\n    },\r\n    payNow() {\r\n      let ref = Math.random().toString(36).substr(2, 6);\r\n      const userId = this.auth_user.id;\r\n      const orderId = this.currentOrder.id;\r\n      const route = this.dynamic_route(\"products/orders/credit/payment/verify\");\r\n      const header = {\r\n        headers: {\r\n          authorization: `Bearer ${this.auth_token}`,\r\n        },\r\n      };\r\n      // eslint-disable-next-line no-undef\r\n      FlutterwaveCheckout({\r\n        public_key: \"FLWPUBK-049a53774a1dd9ca29dd26a6d3c23fa4-X\",\r\n        tx_ref: ref,\r\n        amount: this.currentOrder.amount_paid,\r\n        currency: \"NGN\",\r\n        country: \"NG\",\r\n        payment_options: \" \",\r\n        customer: {\r\n          email: this.auth_user.email,\r\n          phone_number: this.auth_user.phone,\r\n          name: this.auth_user.name,\r\n        },\r\n        callback: function (data) {\r\n          // specified callback function\r\n          let form = new FormData();\r\n          form.append(\"transRef\", data.transaction_id);\r\n          form.append(\"userId\", userId);\r\n          form.append(\"orderId\", orderId);\r\n          axios\r\n            .post(route, form, header)\r\n            .then(() => {\r\n              location.reload();\r\n            })\r\n            .catch(() => {});\r\n        },\r\n        customizations: {\r\n          title: \"Marketcenta\",\r\n          description: \"Payment for items purchased on credit\",\r\n          logo: \"https://res.cloudinary.com/adetayoapplication/image/upload/v1636387496/marketlogosm_e7obw7.png\",\r\n        },\r\n      });\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.order-bg {\r\n  border: 1px solid #777777;\r\n  border-radius: 4px;\r\n  border: 1px solid #ededed;\r\n  padding: 8px;\r\n  word-break: break-all;\r\n  margin-bottom: 20px;\r\n}\r\n.mobile-product {\r\n  align-items: flex-start;\r\n}\r\n.product-image-inner {\r\n  min-height: auto;\r\n  color: #333333;\r\n}\r\n.products-img-wrapper {\r\n  box-shadow: 0 0 1px 1px hsl(0deg 0% 0% / 5%);\r\n  border-radius: 5px;\r\n}\r\n.mobile-product .products-img-wrapper,\r\n#mobile-recommended .mobile-product .products-img-wrapper {\r\n  width: 125px !important;\r\n  height: 120px;\r\n}\r\n.item-img {\r\n  border-bottom: 2px solid #f1f1f1;\r\n}\r\n.item-name {\r\n  margin-top: 0 !important;\r\n}\r\n.mobile-product .product-img,\r\n#mobile-recommended .mobile-product .product-img {\r\n  max-height: 152px;\r\n  min-height: 120px;\r\n}\r\n\r\n.product-img {\r\n  object-fit: cover;\r\n  max-width: 100%;\r\n  max-height: 180px;\r\n  width: 100%;\r\n  margin-bottom: 0 !important;\r\n  border-top-left-radius: 5px;\r\n  border-top-right-radius: 5px;\r\n}\r\n\r\n.item-name a {\r\n  font-weight: 600;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  text-decoration: none;\r\n  color: #5f5d5d !important;\r\n}\r\n\r\n.product-content {\r\n  position: relative;\r\n}\r\n.product-content h5 {\r\n  font-size: 14px !important;\r\n  margin-top: 2px !important;\r\n}\r\n\r\n.product-content h6 {\r\n  font-size: 13px !important;\r\n  font-weight: 500;\r\n  color: #555555;\r\n  margin-top: 0 !important;\r\n  margin-bottom: 5px !important;\r\n}\r\n\r\n.item-count h5 {\r\n  font-weight: 600;\r\n  opacity: 0.8;\r\n}\r\n</style>\r\n"],"sourceRoot":""}]}